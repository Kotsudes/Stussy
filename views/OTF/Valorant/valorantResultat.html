<!--index.html-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->

    <link rel="stylesheet" href="../../../dist/style.css" type="text/css">
    <link rel="stylesheet" href="../../../dist/font.css" type="text/css">
    <link rel="stylesheet" href="../../../dist/OTF/OTFvalorant.css" type="text/css">
    <title>Poste Valorant</title>
</head>

<body>
    <div class="grid grid-cols-[4fr_6fr] ml-5">
        <div class="grid grid-cols-1">
            <div class="my-2">
                <a href="../../../index.html">Accueil</a> / <a href="../../SelectionOTF.html">Selection OTF</a>
            </div>
            <div class="grid justify-items-center items-center mt-2">
                <div id="wah"
                    class="background w-[720px] h-[900px] relative fond outline outline-black outline-[0.5px] overflow-hidden">

                    <div class="Pseudos grid grid-cols-5 justify-items-center">
                        <spam id="joueur1" class="pseudo1 text-center">Joueur 1</spam>
                        <spam id="joueur2" class="pseudo2 text-center">Joueur 2</spam>
                        <spam id="joueur3" class="pseudo3 text-center">Joueur 3</spam>
                        <spam id="joueur4" class="pseudo4 text-center">Joueur 4</spam>
                        <spam id="joueur5" class="pseudo5 text-center">Joueur 5</spam>
                    </div>


                    <img src="../../../assets/OTF/Valorant/Autres/Formes.png">

                    <div id="victoire">
                        <img id="v_ascent" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_ASCENT.png">
                        <img id="v_fracture" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_FRACTURE.png">
                        <img id="v_haven" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_HAVEN.png">
                        <img id="v_haven2" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_HAVEN2.png">
                        <img id="v_icebox" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_ICEBOX.png">
                        <img id="v_lotus" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_LOTUS.png">
                        <img id="v_pearl" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_PEARL.png">
                        <img id="v_split" class="absolute top-[64px] w-[677.6666666667px]"
                            src="../../../assets/OTF/Valorant/Victoire/VICTORY_SPLIT.png">
                    </div>
                    <div id="defaite">
                        <img id="d_ascent" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_ASCENT.png">
                        <img id="d_fracture" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_FRACTURE.png">
                        <img id="d_haven" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_HAVEN.png">
                        <img id="d_haven2" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_HAVEN2.png">
                        <img id="d_icebox" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_ICEBOX.png">
                        <img id="d_lotus" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_LOTUS.png">
                        <img id="d_pearl" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_PEARL.png">
                        <img id="d_split" class="absolute top-[64px] w-[677.6666666667px] left-[26px]"
                            src="../../../assets/OTF/Valorant/Defaite/DEFEAT_SPLIT.png">
                    </div>

                    <div id="container_illustration" class="image">
                        <img id="cypherkilljoy" class="absolute"
                            src="../../../assets/OTF/Valorant/Agents/Cypher_Killjoy.png">
                        <img id="jettsova" class="absolute" src="../../../assets/OTF/Valorant/Agents/Jett_Sova.png">
                    </div>

                    <div
                        class="bg-[#f3f5f8] border border-[#f3f5f8] w-[720px] h-[104.6666666667px] absolute bottom-0 outline outline-[#f3f5f8]">

                        <img id="logo_red" class="logo_equipe left-[5px] top-[3.6666666667px]"
                            src="../../../assets/OTF/Valorant/Autres/carreRouge.png">
                        <div
                            class="z-50 w-[95px] h-[95px] grid justify-items-center absolute left-[3px] top-[3.6666666667px]">
                            <img id="red_ldv" class="logo_equipe h-[85px] mt-1"
                                src="../../../assets/OTF/Valorant/Logo/ldv.png">
                            <img id="red_base" class="logo_equipe h-[85px] mt-1"
                                src="../../../assets/OTF/Valorant/Logo/logo_large.png">
                        </div>

                        <img id="logo_black" class="logo_equipe left-[98px] top-[3.6666666667px]"
                            src="../../../assets/OTF/Valorant/Autres/carreNoir.png">
                        <img class="logo_equipe left-[98px] top-[3.6666666667px] z-50"
                            src="../../../assets/OTF/Valorant/Autres/Barre.png">
                        <div
                            class="z-50 w-[95px] h-[95px] grid justify-items-center absolute left-[98px] top-[3.6666666667px]">
                            <img id="black_ldv" class="logo_equipe h-[85px] mt-1"
                                src="../../../assets/OTF/Valorant/Logo/ldv.png">
                            <img id="black_base" class="logo_equipe h-[85px] mt-1"
                                src="../../../assets/OTF/Valorant/Logo/logo_large.png">
                        </div>

                        <spam id="score" class="score w-[150px] h-[104px] absolute top-[57px] left-[222px]">13-3</spam>

                        <img class="w-[246.3333333333px] absolute right-[132px] top-[24px]"
                            src="../../../assets/OTF/Valorant/Logo/LogoValoOTF.png">
                        <img class="w-[95.6666667px] absolute right-[11px] bottom-[25px]"
                            src="../../../assets/OTF/Valorant/Logo/logoPoleDeVince.png">

                    </div>
                </div>
            </div>
            <div id="resultat" hidden></div>
        </div>
        <div class=" grid grid-cols-1">
            <div class="grid justify-items-center">
                <spam>GRAN TORINO</spam>
            </div>
            <div class="grid grid-rows-2 justify-items-center ">
                <div class="grid grid-cols-2 items-center">
                    <div>
                        <label class="font-bold">Victoire :</label>
                        <input name="resultat" id="victoire " type="radio" value="true" checked>
                    </div>
                    <div>
                        <label class="font-bold">Défaite :</label>
                        <input name="resultat" id="defaite" value="false" type="radio">
                    </div>
                    <div>
                        <label class="font-bold">Score du match :</label>
                        <input name="score" id="scoreInput" type="text" placeholder="Entrez le score du match">
                    </div>
                    <div>
                        <label class="font-bold">Carte :</label>
                        <select name="map" id="map">"", "", "", "", "", "", ""
                            <option value="ascent" selected>Ascent</option>
                            <option value="fracture">Fracture</option>
                            <option value="haven">Haven</option>
                            <option value="haven2">Haven 2</option>
                            <option value="icebox">Icebox</option>
                            <option value="lotus">Lotus</option>
                            <option value="pearl">Pearl</option>
                            <option value="split">Split</option>

                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-5 gap-3 items-center">
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Joueur 1</label>
                        <input name="joueur1" id="joueur1Input" type="text" placeholder="Entrez le nom du joueur">
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Joueur 2</label>
                        <input name="joueur2" id="joueur2Input" type="text" placeholder="Entrez le nom du joueur">
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Joueur 3</label>
                        <input name="joueur3" id="joueur3Input" type="text" placeholder="Entrez le nom du joueur">
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Joueur 4</label>
                        <input name="joueur4" id="joueur4Input" type="text" placeholder="Entrez le nom du joueur">
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Joueur 5</label>
                        <input name="joueur5" id="joueur5Input" type="text" placeholder="Entrez le nom du joueur">
                    </div>

                </div>

                <div class="grid grid-cols-3 items-center">
                    <div>
                        <label class="font-bold">Taille des pseudos :</label>
                        <input name="joueurFontInput" id="joueurFontInput" type="number"
                            placeholder="Police d'écriture">
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Logo de l'équipe gauche :</label>
                        <select name="logo1" id="logo_redInput">
                            <option selected value="ldv">LDV</option>
                            <option value="base">Base</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-1 justify-items-center">
                        <label class="font-bold">Logo de l'équipe droite :</label>
                        <select name="logo2" id="logo_blackInput">
                            <option selected value="ldv">LDV</option>
                            <option value="base">Base</option>
                        </select>
                    </div>

                </div>
            </div>

            <div class="grid grid-cols-2 mt-8">
                <div class="grid grid-cols-1 justify-center">
                    <div class="grid grid-cols-2 justify-items-center items-center">
                        <label class="font-bold">Couple d'agents :</label>
                        <select name="illustration" id="illustration">
                            <option selected value="cypherkilljoy">Cypher et KillJoy</option>
                            <option value="jettsova">Jett et Sova</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-2 justify-items-center items-center">
                        <label class="font-bold">Taille Longueur :</label>
                        <input name="illustration_width" id="illustration_width" type="number"
                            placeholder="Entrez la longueur de l'image">
                    </div>
                </div>
                <div class="grid grid-cols-1 justify-center">
                    <div class="grid grid-cols-2 justify-items-center items-center">
                        <label class="font-bold">Position X :</label>
                        <input name="illustration_left" id="illustration_left" type="number"
                            placeholder="Entrez la composante X de l'image">
                    </div>
                    <div class="grid grid-cols-2 justify-items-center items-center">
                        <label class="font-bold">Position Y :</label>
                        <input name="illustration_top" id="illustration_top" type="number"
                            placeholder="Entrez la composante Y de l'image">
                    </div>
                </div>
                <div class=" col-span-2 grid justify-items-center">
                    <button class="text-4xl" id="generate">
                        Générer
                    </button>

                    <sript src="../../../scripts/renduValorant.js" type="text/javascript"></sript>
                    <script>

                        const agents = [
                            "cypherkilljoy", "jettsova"
                        ];

                        const logo = [
                            "ldv", "base"
                        ];

                        const maps = [
                            "ascent", "fracture", "haven", "haven2", "icebox", "lotus", "pearl", "split"
                        ]

                        var $ = require("jquery");

                        function rgb2hex(rgb) {
                            rgb = rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);
                            return (rgb && rgb.length === 4) ? "#" +
                                ("0" + parseInt(rgb[1], 10).toString(16)).slice(-2) +
                                ("0" + parseInt(rgb[2], 10).toString(16)).slice(-2) +
                                ("0" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';
                        }

                        // INITIALISATION DE L'INPUT DU SCORE
                        $("#scoreInput").val($("#score").text());

                        // INITIALISATION DES INPUTS DES SCORES
                        $("#joueur1Input").val($("#joueur1").text());
                        $("#joueur2Input").val($("#joueur2").text());
                        $("#joueur3Input").val($("#joueur3").text());
                        $("#joueur4Input").val($("#joueur4").text());
                        $("#joueur5Input").val($("#joueur5").text());
                        $("#joueurFontInput").val($("#joueur1").css("font-size").slice(0, -2));

                        // INITIALISATION DES LOGOS
                        logo.forEach(element => {

                            if (element == $("#logo_redInput").val()) {
                                $("#red_" + element).removeClass("hidden")
                            }
                            else $("#red_" + element).addClass("hidden");
                        });

                        logo.forEach(element => {
                            if (element == $("#logo_blackInput").val()) {
                                $("#black_" + element).removeClass("hidden")
                            }
                            else $("#black_" + element).addClass("hidden");
                        });

                        // INITIALISATION DES ILLUSTRATIONS VICTOIRE / DÉFAITE
                        maps.forEach(element => {
                            if (element == $("#map").val()) {
                                $("#d_" + element).addClass("hidden");
                            }
                            else {
                                $("#d_" + element).addClass("hidden");
                                $("#v_" + element).addClass("hidden");
                            }
                        });

                        // INITIALISATION DES INPUTS DE L'ILLUSTRATION
                        agents.forEach(element => {
                            if (element == $("#illustration").val()) {
                                $("#" + element).removeClass("hidden")
                            }
                            else $("#" + element).addClass("hidden");
                        });

                        $("#illustration_left").val($("#container_illustration").css("left").slice(0, -2));
                        $("#illustration_top").val($("#container_illustration").css("top").slice(0, -2));
                        $("#illustration_width").val("500");
                        $("#container_illustration>img").each(function () {
                            $(this).css("width", $("#illustration_width").val() + "px");
                        })


                        // MODIFICATION VICTOIRE DÉFAITE
                        $("input[type=radio][name=resultat]").change(function () {
                            if ($("input[type=radio][name=resultat]:checked").val() == "true") {
                                maps.forEach(element => {
                                    $("#d_" + element).addClass("hidden");
                                    if (element == $("#map").val()) {
                                        $("#v_" + element).removeClass("hidden");
                                    }
                                    else {
                                        $("#v_" + element).addClass("hidden");
                                    }
                                });
                            }
                            else {
                                maps.forEach(element => {
                                    if (element == $("#map").val()) {
                                        $("#v_" + element).addClass("hidden");
                                        $("#d_" + element).removeClass("hidden");
                                    }
                                    else {
                                        $("#d_" + element).addClass("hidden");
                                    }
                                });
                            }
                        });

                        $("#map").change(function () {
                            if ($("input[type=radio][name=resultat]:checked").val() == "true") {
                                maps.forEach(element => {
                                    $("#d_" + element).addClass("hidden");
                                    if (element == $("#map").val()) {
                                        $("#v_" + element).removeClass("hidden");
                                    }
                                    else {
                                        $("#v_" + element).addClass("hidden");
                                    }
                                });
                            }
                            else {
                                maps.forEach(element => {
                                    if (element == $("#map").val()) {
                                        $("#v_" + element).addClass("hidden");
                                        $("#d_" + element).removeClass("hidden");
                                    }
                                    else {
                                        $("#d_" + element).addClass("hidden");
                                    }
                                });
                            }
                        });

                        $("#logo_redInput").change(function () {
                            logo.forEach(element => {

                                if (element == $("#logo_redInput").val()) {
                                    $("#red_" + element).removeClass("hidden")
                                }
                                else $("#red_" + element).addClass("hidden");
                            });
                        });

                        $("#logo_blackInput").change(function () {
                            logo.forEach(element => {
                                if (element == $("#logo_blackInput").val()) {
                                    $("#black_" + element).removeClass("hidden")
                                }
                                else $("#black_" + element).addClass("hidden");
                            });
                        });


                        // MODIFICATION DES VALEURS DES INPUTS DU NOM DE TOURNOIS
                        $("#scoreInput").on('input', function () {
                            $("#score").text($("#scoreInput").val())
                        });
                        $("#joueur1Input").on('input', function () {
                            $("#joueur1").text($("#joueur1Input").val())
                        });
                        $("#joueur2Input").on('input', function () {
                            $("#joueur2").text($("#joueur2Input").val())
                        });
                        $("#joueur3Input").on('input', function () {
                            $("#joueur3").text($("#joueur3Input").val())
                        });
                        $("#joueur4Input").on('input', function () {
                            $("#joueur4").text($("#joueur4Input").val())
                        });
                        $("#joueur5Input").on('input', function () {
                            $("#joueur5").text($("#joueur5Input").val())
                        });
                        $("#joueurFontInput").on('input', function () {
                            $("#joueur1").css("font-size", ($("#joueurFontInput").val() + "px"))
                            $("#joueur2").css("font-size", ($("#joueurFontInput").val() + "px"))
                            $("#joueur3").css("font-size", ($("#joueurFontInput").val() + "px"))
                            $("#joueur4").css("font-size", ($("#joueurFontInput").val() + "px"))
                            $("#joueur5").css("font-size", ($("#joueurFontInput").val() + "px"))
                        });

                        // MODIFICATION DE L'ILLUSTRATION
                        $("#illustration").on('change', function () {
                            agents.forEach(element => {
                                if (element == $("#illustration").val()) {
                                    $("#" + element).removeClass("hidden")
                                }
                                else $("#" + element).addClass("hidden");
                            });
                        });

                        $("#illustration_left").on('input', function () {
                            $("#container_illustration").css("left", $("#illustration_left").val() + "px");
                        });

                        $("#illustration_top").on('input', function () {
                            $("#container_illustration").css("top", $("#illustration_top").val() + "px");
                        });

                        $("#illustration_width").on('input', function () {
                            $("#container_illustration>img").each(function () {
                                $(this).css("width", $("#illustration_width").val() + "px");
                            })
                        });

                    </script>

                    <script>
                        var $ = require("jquery");
                        var htmlToImage = require('html-to-image');

                        $("#generate").click(function () {
                            htmlToImage.toPng(document.getElementById('wah'))
                                .then(function (dataUrl) {
                                    var link = document.createElement('a');
                                    link.download = 'rendu.png';
                                    link.href = dataUrl;
                                    link.click();
                                });
                        })
                    </script>
                </div>
            </div>
        </div>
    </div>
</body>

</html>